#include "mainwindow.h"
#include "ui_mainwindow.h"

#include "Bin/header.h"

#include <QtWidgets>

#include "Component/imgshowcomponent.h"
#include "Core/datacenter.h"

#include "Component/UdpComponent.h"


#include <QMetaType>

#include <QtCharts>


#include "Library/ParamLine.h"

DataCenter* dataCenterPtr;
static DataCenter *dataCenter;
QThread dataCenterThread;


static QTextBrowser *textBox;


MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    QFont font;
    font.setFamily(QStringLiteral("Microsoft YaHei"));
    font.setPointSize(10);
    font.setBold(false);
    font.setWeight(50);

    this->setFont(font);
    this->acceptDrops();

    //初始化.ui界面
    ui->setupUi(this);
    setWindowTitle("IoT Lab SmartCar 2019 -- The God Seeker & God Helper 201903");


    qRegisterMetaType<QList<QUrl>>("QListUrl");//注册自定义类型


    //最关键的是DataCenter

    dataCenter = new DataCenter;//不能设置任何父对象 需要是顶层对象才能移
    qDebug()<<dataCenter;
    dataCenter->moveToThread(&dataCenterThread);//如果线程是new出来的,那么可以用deleteLater让线程自杀
    dataCenter->ConnectSon();
    dataCenterPtr = dataCenter;



    //这里新建了窗口 那么也理该自行创建一个..处理?
    //不是也可以两个窗口用同一个处理吗？why not?
    //不也可以把一个处理的数据弄到多个窗口中显示嘛?

    QHBoxLayout* carPanelsLayout = new QHBoxLayout;
    QList<QVBoxLayout*> carPanelLayoutList;

    //新建两个窗口 后面要批量生产的都要用List
    for(int i = 0;i < 1;i++)
    {
        //CarPanel
        QVBoxLayout* carPanelLayoutItem = new QVBoxLayout();
        carPanelLayoutList.append(carPanelLayoutItem);

        QHBoxLayout* imgPanelLayoutItem = new QHBoxLayout();

        for(int imgShowNum = 0;imgShowNum < 2;imgShowNum++)
        {
            ImgShowComponent *imgShow = new ImgShowComponent(this);
            imgShowList.append(imgShow);
            imgShow->resize(564,410);
            imgShow->setMinimumSize(564,410);
            imgShow->setMaximumSize(564,410);//400-360
            imgPanelLayoutItem->addWidget(imgShow);
        }

        carPanelLayoutItem->addLayout(imgPanelLayoutItem);
        carPanelsLayout->addLayout(carPanelLayoutItem);
        //连接关系 关系连接在下面..



    }

    ui->topLayout->addLayout(carPanelsLayout);

    //imgShowList.first();

    //绑定一个数据..传递方式请用数据指针..
    connect(imgShowList.first(),&ImgShowComponent::dropSignals,dataCenter,&DataCenter::ImgUrlInterface);
    connect(dataCenterPtr->imgProcCore,&ImgProcCore::updateSurface,imgShowList[0],&ImgShowComponent::updateImgWidgetPtr);

    connect(dataCenterPtr->imgProcCore2,&ImgProcCore::updateSurface,imgShowList[1],&ImgShowComponent::updateImgWidgetPtr);

    connect(imgShowList[0],&ImgShowComponent::PosMove,dataCenterPtr->imgProcCore,&ImgProcCore::PosMoveSlot);



    /*
    ImgShowComponent *imgShow;

    imgShow = new ImgShowComponent(this);
    imgShow->resize(564,360);
    imgShow->setMinimumSize(564,360);
    imgShow->setMaximumSize(564,360);
    carPanelsLayout->addWidget(imgShow);



    ImgShowComponent *imgShow2;

    imgShow2 = new ImgShowComponent(this);
    imgShow2->resize(564,360);
    imgShow2->setMinimumSize(564,360);
    imgShow2->setMaximumSize(564,360);
    carPanelsLayout->addWidget(imgShow2);
    */


    //这是窗体功能部件...还是需要单列出去.并且增加各种功能!
    textBox = new QTextBrowser(this);
    textBox->append("test");

    ui->rightLayout->addWidget(textBox);







    /////////////////////////DataSource/////////////////////////////

    QGroupBox* dataSourceBox = new QGroupBox(this);
    dataSourceBox->setTitle("Source");
    QVBoxLayout* dataSourceBoxLayout = new QVBoxLayout(dataSourceBox);
    QComboBox *dataSourceComboBox = new QComboBox(this);
    QPushButton *listenButton = new QPushButton("open",this);
    listenButton->setCheckable(true);
    //数据源选择 构建

    //以后要可以根据文件或者配置来自动加载~
    QStringList comboBoxStringList;
    comboBoxStringList<<"TCP Server"<<"TCP Client"<<"Serial"<<"UDP Server";

    dataSourceComboBox->addItems(comboBoxStringList);
    dataSourceComboBox->setCurrentIndex(dataSourceComboBox->count() - 1);

    QVBoxLayout* DSLayout = new QVBoxLayout();
    QHBoxLayout* DSLayoutA = new QHBoxLayout();
    DSLayoutA->addWidget(dataSourceComboBox,3);
    DSLayoutA->addWidget(listenButton,1);

    DSLayout->addLayout(DSLayoutA);

    ui->sideLayout->addLayout(DSLayout);

    UdpComponent* udp = new UdpComponent(this);//形成野指针..

    connect(listenButton,&QPushButton::toggled,[=](bool checked){
        qDebug()<<checked;
        udp->BindInterface(checked);
        if(checked)
        {
            //这里全部使用槽函数 相关逻辑放到部件找那个处理
            dataSourceComboBox->setEnabled(false);
            dataSourceBox->setEnabled(false);
            listenButton->setText("CLOSE");

        }else{
            dataSourceComboBox->setEnabled(true);
            dataSourceBox->setEnabled(true);
            listenButton->setText("OPEN");
        }
    });



    dataSourceBoxLayout->addWidget(udp);

    DSLayout->addWidget(dataSourceBox);

    QLabel* dataStatistics = new QLabel("Speed:10.0kb/s 1000bytes/s",this);
    dataStatistics->setAlignment(Qt::AlignCenter);
    dataStatistics->setStyleSheet("color:#888;");
    DSLayout->addWidget(dataStatistics);

    connect(dataCenterPtr,&DataCenter::updateReceiveCount,[=](uint16 receiveCount){
        dataStatistics->setText(QString("Speed:10.0kb/s %1bytes/s").arg(receiveCount));
    });


    DSLayout->addSpacerItem(new QSpacerItem(0, 0, QSizePolicy::Expanding, QSizePolicy::Expanding));


    ////////////////////////////////////////////////////////////////


    connect(&dataCenterThread, &QThread::finished, dataCenter, &QObject::deleteLater);//链接注销,必须链接.否则可能会内存泄露
    connect(&dataCenterThread, &QThread::finished, &dataCenterThread, &QObject::deleteLater);//如果是new出来的 得有自杀槽

    //绑定事件
    //connect(imgShow, &ImgShowComponent::dropSignal, dataCenter,static_cast<void(DataCenter::*)(QImage)>(&DataCenter::DataInterface));//如果是new出来的 得有自杀槽

    //方法二 强制转换类型
    //connect(ui->spinBox, static_cast<void(QSpinBox::*)(int)>(&QSpinBox::valueChanged), this, &TimeLine::SendSignalsFrameChanged);
    //connect(comboBox, static_cast<void(QComboBox::*)(int)>(&QComboBox::activated),[=](int index){ /* ... */ });


    dataCenterThread.start();


    ////////////////////////////////////////数据源绑定功能////////////////////////////////
    /// 前期先使用一个控件显示出现在的数据源..
    /// TCP不同Cilent属于不同的数据源.
    /// UDP不同的Sender属于不同的数据源
    /// 不同串口号属于不同的数据源
    /// SD卡数据属于特殊的数据源..启用特殊部件进行处理

    QTextEdit* dataSource = new QTextEdit(this);
    dataSource->append("test");

    QListWidget* dataSourceListWidget = new QListWidget(this);

    ui->sideLayout->addWidget(dataSource);
    ui->sideLayout->addWidget(dataSourceListWidget);

    dataSourceListWidget->addItem("ceshi");
    dataSourceListWidget->addItem("ceshi");


    connect(dataCenterPtr,&DataCenter::AddMsgSignal,this,&MainWindow::AddMsg);
    connect(dataCenterPtr->imgProcCore,&ImgProcCore::AddMsgSignal,this,&MainWindow::AddMsg);


    //一些测试
    //connect(imgShow,&ImgShowComponent::dropSignals,dataCenter,&DataCenter::ImgUrlInterface);
    //connect(dataCenterPtr->imgProcCore,&ImgProcCore::updateSurface,imgShow,&ImgShowComponent::updateImgWidgetPtr);

    //connect(dataCenter,&DataCenter::updateImage,imgShow,&ImgShowComponent::updateImage);

    /*
    QLabel *label = new QLabel(this);
    label->resize(400,300);

    connect(dataCenter,&DataCenter::updateImage,[=](QImage image){
        label->setPixmap(QPixmap::fromImage(image));
    });

    ui->rightLayout->addWidget(label);
    QByteArray testArray = QByteArray().fromHex("0F0E10110F110E0F0E0E0F10101011101010110E1012121111111011111110111317212D3539383B3A3C3C3D3E3B3C3D40403F403E414240403F43414141434442424244444445444746464446464647484848474A494A4A4A484448494B4B4B4949494847484646454545444142414140403F3E3B3B3C3B3A3A383735353639383A393835373B42474B4F5458595A5D5C5D5E5D5D5E5C5C5C5B5A5B5A585857565656545555535151505150504F4E4F4D4D4D4B4B4A4A49494748450E0F100F10100F0F0F1010100E0E0E0E0F101010100F1011111010110F121213151D26313738383A393B3C3B3C3C3D3E3D3F403F423E3F40423F43424341434242454345444245454646464545464747454747474949494A4946454647494A4A4A48494848464745454346434242414240424040423D3D3C39393638353639373838393738393E44474F515658585B5C5E5E5D5E5E5C5D5C5C5B5B5958595A575856565454545552515251504F4E4F4E4D4D4D4B4B4B4948484847460F0E10110F100F0F0E0F0F10100E0E0E120F0F10111110100F0F11111111121216202C353A3A3A393A3C3B3C3C3D3D3F3F403F3C403F4041404342424443414444454543444645464646474647474647484747484949494A494A4848494A4B494948484847474646464545454342404440413F3E3F413E3C3C3738373A3A3B3B3C3B39373C3C41474C505456595A5C5D5E5F5E5E605E5C5D5E5B5A5A59585A58585756555555545352525050504F4E4F4E4E4D4C4B4A4A4A494A48460F100E0F0F0F100E0E0E100F0E10100F0F100E100F0F100E110F10111213101518232C353638383939353B3A3C3C3B3F3D3F3C3E3F3F3E414142414042414444434444434546444446454545454545474747474748484848494848484A4849484847474646454646454543444142414041413E3E3E3D3C3D3A38373537393A3A3A3A3738393D43484B515458585A5A5D5D5C5F5C5C5C5C5C5A5A585A585859595756565555545252525050504F504E4D4D4B4B4C4A4B4A4948484746110F1110110F0E0F0E0E10120E111011101211111011100E100F1212121011151A28333637383A393A383C3B3C3D3E3D3E3E3E403F3E3F3F424142404342434243444444444545454746454746464748484848484947494949494A4A4B4A4848494749474847474746454544454343424244403E403F3C3B3A393937373B3B3B393C3A3B3E42464B4F5255565A5B5C5E5D5C5D5E5D5B5C5C5B595A5958595A585756565354555452525051504E4F4D4E4D4D4D4C4C4D4A494949494710101011101111110F0E10100E100F0D11100F100F100F101110121210101316202A34383638363A39393A393A3B3C3D3D403F3F3F3E403F423F3F414244454344454544464545464746464746474847474848484849484948494A4A494A494847474747484947474545454645414542423F3E3F3F3F3C3B3D3A36383B3B3D3C3C3A3C3A3D44494C505557595B5D5D5D5D5C5D5D5C5D5C5A5B5A5A595A5957595658565555555452535251504F504E504F4C4C4B4C4B4B4B4949484911100E0F100F10100F10100F0F11100D110E110F0E10100F0F1012121012131A282E3437363837383C38393C3A3B3D3B3D3F403E403F3E3E3F3E3E3F41434344454542454645444646464646454745474848484747494849484A494949484748474747474746474545454444444342434142413E3C3D3D39393938393A3C3C3C3C393E3B4046494D505457595C5C5C5D5D5D5D5E5C5C5B5B5B595A59595958585657555354535352515051504F4F4F4E4E4D4B4C4D4C4A4A4948464611111011121212100F10101011101010120F10111111111110101213121318222E3437383638373A3B393B3C3B3D3C3D3F3F413F413D4040404142424242434544454647474846474848474949484748494A494A4A49494B494B4B4A484848484A484949494848474846484646444545454442413E3E3E3D3C3C393B3D3E3C3D3D3C3C3F46494E5154565A5C5D5E5F5F5F5F5F5F5F5E5D5C5C5B5C5B5B5A5A585757565656555455535453525151514F4F4E4F4B4D4C4C4B4B4B494A1212121112120F10111212121211101112111112131111121111111515151C29323637383A393939393D3C3C3C3E3E40403E3F403F3F413E3F3F41434443454544474847484948494949494A49494A494A4A4A494A4C4A4A4C4B4A4A4A4B4A494947484A4A4A484849494747464746464543434341413F3C3D3D3E3D3F3F3F3F3D3B4044484C515455595A5D5D5F605F62615F5F605E5D5D5F5D5B5B5C5B5B5A595858565855565554535354535152514F504F4F4E4E4D4D4C4B4B4A111211121312100F110F12121010100F14100F1111111312101111141017232D3334393635393839373B3C3B3B3C3C3F3E3D3F414140413F41434341424242454545464646484748484847474847494A494A4A4B4A4A4B4A4A4B4A4A4948484749484848494849474747474646474547454442423F3D3D3D3D3C3E3F3E3F3E3F3D3E3D45494F51535559595C5D5E5F5F605F5E605E5D5C5D5B5A5B5B5B5B5A595857575554555653545351515252504F504F4D4E4D4C4C4B4B4B4B4A101112111111101110111111100F0F10101011101110121212121114141828323336383738383739383B3C3C3D3C3D3F3E3E3C40413E3E3E3F40404141414344464646464547494748484748484849494A4949494A49494A494A4A474A47484847474847484748474745474646464545434342423F3E3D3C3D3D3D403C3F3E3D3C3F41474B4E515556595A5C5C5E5D5E5F5E5E5E5D5C5D5A5B5C5C5A595A595757575755545453535352525150514F504F4E4E4D4C4C4D4B4B4B494811131012101111111110121212101210111010101113101011121212131D2934363537383537363A3B3C3C3B3B3D3C3E3F3E3E3E4142403D3E404340434445474647484647494948484848494A48494B484B4A4A4A4A494B4A4B4B4B4A4A4A4848474949494948484948474746464644454442433F3F3F403B3E403F3E3F3C403E4045494D515458595C5B5E5F606060606061605E5E5F5D5C5C5D5A5A59585959575755555555535354535252525251504F4F4D4E4C4D4C4C4B4C4A1110111010100E10100F111010101010100F1111121011101214101218202C33343736373538393B3A3A3A3C3B3E3A3D3C3F3E3F3F42403F3E43404243424344454546484648464748484948494849484A4A49494A4B4A4A4A4B4A494A4948484748474849494747464746474647444443454140423E3F3D3D3E4240403F3E3B3F41464A4E525456585B5C5C5F5E605F5F615E5F5F5D5E5B5C5C5C5A5958585957565656565556535352535152525050504F4F4D4F4E4E4C4B4C4A4A1010110F101010101110120F0E0F111010100F1111121210111212131C262D3434353637363C39393A3A3939393B393B3F3E3D3E3F414241404240424444434545464746474746464746474948494A494A4A494A4A4A494A4A4B4B4A4B4A4948494847474847474746484745484645464443404240403F3E3D41404141403E3E4143484B505357585B5B5C5E5E5F605F5F5E5F605E5C5C5D5C5A5A5A59595858575757575654535452535152515251504F4E4E4D4D4D4C4C4C4B4A490F11101111111211120F12111111111212111211121112111015171B222832343637373739393C3C3D3B3C3C3D3D3D3A3F3E3E3F3F4042414245434444464646464548484848494849484A494B4C4A4C4B4A4B4B4C4C4D4C4B4B4C4B4C4A4B4B4B4A4A4A4A4949494A484747474847474645414341403F404142414241403E4146484A4F53565A5B5C5E5E5E5F6161636060605E5F5E5E5D5C5B5C5C5B5A5A5959595859585856555455555452515251515150504E4F4E4D4D4D4C4B0F0F0F0E0E0F100F1010100F0F101111101010111210111312181E25292D2F333436363937383B383C3E3B3D3D3F3E3E3F3D3E3C403E3F41424043434242454444454646484847474749484849494A49494A4A4A4A4A494B494B4A4A4A4A494948484A494848484747484647464746454345434240403E4140423F404040424145464B4F5357595B5A5D5C5E5E5F5E5F5F5F5F5F5C5D5D5C5C5B5C59595A5958595856585554545454535353515050504E4E4F4E4D4E4C4C4B4B4B490D0D0F0F0D0F0E100E0F0F0F0E10101010100E0E101112111822292E312F31323335363638373B3B3C3C3E3C403F3E3D3C3D3C3F3D3E3E4140404242424343444545464445474647474748474747494949494849494A4949494948494A494A494848484846484747464547454545444543434041413F3C404141404040413E4146494C50535757595B5D5D5D5F5E5E5F5F5E5E5D5D5D5B5C5A5A5B5A5858585857575655555454535253525250504F4F4E4D4E4D4E4D4C4B4A4A4A48100F0F10110F120F0F10101111111010121110111113121A242B34373533323535353736393A3C3D3E3D3E3F41404242403F3F424040423F3F41414444444344464646464849474847494949494A4A4A4A4C494B4B4B4B4B4C494C4B4A4C4A4A4A494A4A49494949484648464846464744444341413F4242423F414043414346484D4F5455595B5D5E5E6060605F60605F5F5F5F5E5E5E5D5D5C5C5A5B5A5A58595857565756565654545453525252505150504F4E4F4E4E4C4C4B4C0F0F11100F100F100E0F1112120F0F0F1310121012141A212A3133323533333437373736373A393C3B3D3F3F4241404245454244424040404140404043424246444647454748474848484948494A4849484A494B4A4B4B4A4B4A494B4C4B4B4A4B49494A48494A474847474747464744454342413F3E4142444240433F4242474A4F515356585A5C5E5E5E5F5F60615F5E5F5F5E5D5D5D5C5C5B5B595A595A585758585756565554545454535353525050504D4E4F4C4C4B4C4C4B4A0E1010100F1011110F0F12100F101110110F1212141A23292E303233313131312E2E2F2E2D313336373B3D3D414542434443444544434242424341414344444545464647474846484747484949484A4A494A4A4C4A4A4C4A4B4B4C4C4A4C4A4B4B4A4A4A4A4849484747474847474645444444434141444243444141444245484B4E5356575A5D5D5D5F5F5F6061625F605F5E5F5E5C5E5D5D5B5B59595A5B5859585757575556545455545351525152514F4F4F4E4E4D4C4A4B4C4B100F11120E11100F10100E110F0F100F10101215161E262C2C2F2F2E2D2A2626222020201F1E22272B2D3136384142424344444345454445444543434143444544444645464446474747484848484749494949484B4A4A4A4A4A4A4A4A4A49494A4A4A494A4948484747474547464645444043414041424344444140434246494D50535658595C5D5D5E5F60615F5F605F5E5D5C5E5C5C5D5D5B5A5A5959585857585656565655545553545151515050504E4F4F4D4D4C4C4B4A4B4B101010130F111210100F110F11101010121114171C22262726292825242019181411141212131218191F222831363D414544454447454747474546474545444344454746464646484847494848484949494A494A4A4B4A4B4A4A4B494B4A4C4A4A4A4B4B4A49494A49494947474645464445414241414445444440414345484B4E5154595A5B5C5F5F5F5F60605F605F605E5E5D5E5D5D5D5C5A5A5A5A59595858575756565655555654535352525153504E4F4F4D4D4D4E4C4A4C4A100E11121113120F110F1110110F0E10111616161E2320231D201E18131211100F0D0D0F0E0F101114121619202531384044444646464647484747484847474745464545464746464748484948494A494A494A4A4A4A4A494A494A4B494A4A4B4B4A4B4A494A494949494748474746464544414242434145434143434447494D525357595B5C5E5D5F5F605F6161615F605F5E5E605D5C5C5B5C5A5A5959575757555655565756555554535252515151504F4F4D4E4E4E4C4B4B4A4A131212121213121111111114111212141619191B2025221A1716151310100F10111211100F10111312101314161B222C3641444748484848484A4A494B4B4A4A4A4948484747484748494949494A494A4A4B4A4A4C4C4B4B4D4D4D4D4C4C4C4C4B4C4C4C4B4B4C4B4A4A494947484746464541454446454543424447474A4E505356585A5D5E5F61616162636061636062606060605F5E5E5D5D5E5C5B5B5A595958585659575857575555545553535053515050504F4F504D4D4D4B13141214100F1110100F1111101314141618191F24221C161111110F0F100F10100F0E100E101011101211101213151E28333F454647474848494848494A4A49494A494848474848474848494748494A4A4A49494A4A4B4C4B4B4C4C4C4A4C4B4B4B4A494A4A4A494948494848474646454444424645454445444545484A4D525656585D5D5E5E5F606160645E62605E5F5E605D5F5E5F5C5B5D5C5B5B5A5857575656565656565756565454525252525151504F4E4F4D4D4C4B4C4A121011111010120F121011110F13171515181D23231F1B1918131211100F0F10101010100E0F1110110F100F111313161B26353E454749474949484949494A4B494B4B494B494849484848484849494A4B4A4B4B4B4B4B4B4D4B4C4C4B4C4C4B4C4B4B4A4B4A4A4A4948484849464646454345464546454343454547494C505255585B5B5E605F5F6161616061606161605F5D5E5E5D5C5D5D5C5C5B5B5A5857565756565657565455555554525251505151504E4F4E4E4B4C4C4A4C121111111114121210111113141717171A1D2124201E2426221D18171412131112111210101211101311111317181717151B23313D484848494A4A4B4C4B4A4B4B4C4C4B4C4B4C494A48484847494B494B4B4A494B4B4C4B4C4C4D4B4C4B4C4C4B4A4B4A4B4A4A4A49494948484848454444444846474645454446494D4E5256585A5C5D5E6060616261626362626161616161605F5E5F5C5D5C5C5C5D5A5A5858585757565757555655555654545252514F505050504E4F4D4D4C4B101112111112111112121115161517171C23221F1D222A2D2A23201C1916161415161514131213131315151A1E1F1D1C17161824313D46484A49494A4A4A4A4B4C4D4B4C4C4D4D4C4C4B494A4948494A494A4C4A4B4B4C4C4B4B4B4C4D4D4C4B4C4B4B4A4B49494A484948484848454443464546454646464647474A4D505255585A5E5E606060626361616262616160605F5F5E5F5F605D5D5D5C5C5B5B5957595759585557575756555554535352525252514F4F504E4E4D4E4C4B1212131014121111101212151718181C22221C1A1E272E30312D282521201C1B1A1618181818171717171D222523221F1A16141823313E4848494A4C4B4C4C4B4D4C4C4C4C4E4E4D4E4B4C4C4C4B4B4A4A4B4A4A4B4B4C4B4C4C4B4B4C4C4C4C4B4D4A4B4C4B4A494849474847464745454447474747454644484A4C4F5055575A5C5E5E60616162606161626260626260615E5E5F5D5E5D5C5C5C5C5A5B5A5858585657575858565555565554535351515152504F4F4F4D4D4C4B4C14131312121311111111151616171D22201C161B22292D2F2F34302E29252522211D1D1E1B1B1B1C1B1E2225252323201D18151317253140464A4B4A4C4A4B4C4C4D4D4D4D4E4E4E4E504E4E4D4D4D4B4B4B4A4B4A4C4B4C4C4C4C4C4D4D4D4C4B4A4B4B4B4C4B4A4A4A494A48474647464647484447464447494B4C545357595C5C5E5F60626262636362606262616362605E60615F5F5F5E5F5E5D5C5B5B5B5A595A5859595857575756545453545153525051504F504D4E4D4D4C121011101010100F10121413161C201E1915191C23272C2D303130302B2D2A2A2726221E1D1D1D1E1E2124242021211F1B191513121727323F474648484A4A4B4B4C4C4D4D4B4D4D4D4E4F4E4E4E4E4D4C4C4A494A4A4B49494A4A4B4B4B4B4B4B4B4A4A494948484947474647454544454645474546464546494B4E525355595B5E5C5F605F616061615F61616060605F5F5E5F5F5F5E5C5E5C5C5C595B585A5959585757565755545454535353545151524F504F4D4D4D4C4B4B4B1211111311101210111012161B1F1D1A15181C21212427292C302F3131302F2F2B282824211E1E1B1C2124211D1C1D1E1D1A141313151A263541444748484A4C4C4B4D4C4F4D4D4E4D4F4E4F4F4F4F4F4F4E4C4D4B4B4B4A4A4A4A4B4C4B4C4B4A4A4B4A4B4A4A4948484846464646444647474746464546494B4C525356595B5C5F606161616162616161616160616161605F605F605E5C5D5C5C5C5C5B5B5A595A5757585757575654555453535252525050504F4F4F4E4C4D4D4C13101312131112111112171F211F1B161819202223222426282D2C302F3132342E2E2B2925211D1D1C2123211C1C2122221B17181516161F2E3B454748494A4A4B4D4E4E4F4F4F4F5050505150515152525253504F4D4D4D4D4C4C4C4C4D4C4C4C4C4C4C4C4C4B494A4849474846474747484949494749494C4E505456595C5E606162626363636363636263636263636263606161605F5F605F5D5C5E5C5C5A5B5C5B5A5958585756575555555453535252525150514E4F4E4E4E4F101111131211111112161C1F1F1714171B1D1D1D20202120252527292B2B2C2E2C2D2B292724201B1A1E221E1C22252A282118191915171A212F3E4547454848494B4C4C4E4F4E4D4F4F4E504F505052504F50515051504E4E4C4C4A4D4B4C4B4C4B4A4B4A494948484847464644454747484848484648494A4D505257595B5D5F5E5F6162626362616261626160616060605F60605F5F5E5E5D5C5C5B5C5B5A5B5A5959595856555455545452515252525050514F4E4E4D4D4D4C4B1313141413141316181E1F1C1A15191B1E1E1F20212020242324242726282A292B2D272826261F1E1C20212121292E333329201C1B1B1A171B2536404748484848494B4B4D4F504F50515150515152525052525253525252504E4F4E4C4D4A4D4B4A4A4C4A4B4A4A4949494848484848494A48494748494B4E515356595C5E5F60606262636464626363636364626161626160616060605F5F5E5E5D5D5C5C5B5A5A59595A59565755565555565353525251525150524E4E4D4D4D4D111312131311171A1E1E1E1815171B1E1D1F1F21221F201F201F222426242427262625262121201C1A1E1D2125282F36372F26201F1C1C1B181B2A3A4346484648494949494B4C4F505050505150515252525253555252515250524E4C4F4C4B4B4B4A4A4A49484A48484747464747484847484947494A4C50535457595B5E5E6061616261646363646462636262616262626161615F5F605D5D5F5D5C5C5C5A5A59595759585756555755555453535252515151504F4F4E4D4C4D4C1314151414171B1D1F1D1A17191B1E1E201F1E1F2121212222232222222324262525211F1E1E1A1C1D202124272A2E3335332F292624221F1A1A2333424649484849494A4A4C4C4C4C4F505053515253535152525354545152525352524F4F4E4B4C4B4A4A4B4A48494A47474646484A4A4A4848494A4C4D515456595C5D5F5F6161646466656464646564636462626461616161615F605E5F5F5D5D5C5C5D5B5B5B5A595958585656575656545453535451505151514F4F4D4E4C4C1312121215191D1B191616191C1C1B1E1F1F1D1F1F1F1F2120201F1E222122202121201E191D191C1C1D202426262B2C2F2D2F2E2C2825221E1A1B2A384547474A48494948494A49494B4B4D5050505151515051525252505352535152514F4E4E4B49494948474745464645464547484748474747494B4F51545659595D5E606161626363626261626262626261616162615F5F5F5D5E5D5D5E5C5B5B5A5B5958595A585757575354555554525351515051514E4F4E4E4D4D4C4C4C111215181A1C1A1715161B1C1D1C1D1D1E201E1F1F201F1E1E2020211D201D1D201E1D1C191A1A1A1C1F2021252527292B2B30312E2D2B27211E19233141474947484848484848474848484A4C4C4D4E5050505151525250505051515150504E4E4E4B4C48494747454444444444464746474547484A4C4F525559585A5D5E5F605F636162626162616163616061606060605E5F5D5E5D5E5B5D5C5A5A59595958595857565755555353545452525050504E4F504F4D4D4D4B4B4B4914171B1F1D1A1716171A1C1C1C1C20201F211E201F202122221F21201F1F1F1F1E1E1E1B1B1A191C1E1F20242525272A292D2E312F2F2D2A29241D1E2C3E4749494A4A4A4A4A494B4B4B4A4A4C4B4C4F4F5052515152525152525352515151505150504F4C4B494947454544454548484A474749494D4F525456595C5F5F605F6261626463646261636363626161626161625F60615E5F5F5C5C5D5A5B5A5A5B595859575755575455555555525353525251504F504F4E4D4C4B4D4B161A1C1B1D1719191D1C1F1E1E1F201F1F2020201F1E2120212223211F201E1E1E1F1D1E1B1B1B1B1C21212223272829292C2D2E30302E2F2D281F1E283A484A4B4C4A4C4B4B4B4D4C4B4B4B4C4A4B4B4E504F50515252545353525452535252525051504F4E4D4C474846454748494A494849494C4E515555585B5D5F61616161616463636465656464636361626363606162635F5F5F5F5C5C5E5B5B5B5C5A595A595958585855575555535353525250505051504F4E4E4D4C4E4C141B1B1918191A1D1C1C1D1E1F1E1F1F1D20201F212121202222211E2120201E1F1F1D1D1A1A181A1C1F2023252627282B2A2A2E2F30322F2D2B231E2639484B4C4C4E4B4C4D4C4C4C4C4B4B4D4C4C4C4C4D4D4F4F51525353545554565252535352505152504F4C4C494947464949494A494A4B4D505256585B5C5E6061626161636464646564646465646463636365626261615F62605C5A5C5C5C5C5B5B5A5B5A59595859575857595655555353525251514F4F4E4D4E4E4C4D4D13191D1D1D1F1F1F1C1D1C1E1D1F20202020222020202223212320211F211E1F1D1F1E1D1C19181D1B202122232728272A2929292D2E32312D29211E2539454A4D4D4D4C4D4D4E4E4E4B4D4E4E4C4E4D4C4D4C4C4D4F4F5051535453535353525152515050504E504E4E4B4A4A494A4B49494B4E4F5254575A5C5E5F606261616365666365656564656464646563636462616161605F5D5B5B5B5D5C5D5C5C5B5B5959585958575756575655545554535251515151504F4F4E4D4D4C171B2120211F1C1F1B1B1B1D1D1D201E2021212120232020222021211F1F1C1D1C1B1C1A191B1A1C1C1E2322262626292829292B2D30302F2C29221F2534464B4C4D4D4C4D4E4E4D4E4E4E4F4D4D4E4D4D4D4C4C4D4C4C4E4F4F515254525353525151524F504F4E4E4D4C494A4A4A49494A4B4F515456585A5C5F6061636364646564646565656565646465636364646361625F60605F5B5C5E5C5B5C5D5A5A5A5A585A575858575656555554545352515151504F4F4E4E4D4C4C4B1D2322251F201E1D1C1E1C1D1F1E2021202121222121222222222421211E1F1E1C1D1D1B1A191A1E1D232222232326292C2B2B2D2D302E2B2A29241D2637464D4F4D4E4D4F4E4E4F4E4E4F4E4F4E4F4E4E4E4E4E4D4E4D4C4D4E4F50515152525252535151504F4F4F4E4E4D4C4C494B4B4A4D515254585B5D5F5E6263636564656767646666666564666566666463636462626262615F5E5F5E5D5E5F5C5D5D5B5A5B595A58585757575756565554535251515150504F4F4F4E4C4B232827221F20201F1E1F1E1E1F202120212221232421232525222422201E1E1F1E1C1C1B1A1C1B1C1E201F232526282A2C2C2A2D2D2E2F2B292722222A3D484C4D4F4D4C504E4F4E4F4F4D4F4F4F4F4F4F4E4F4E4F4E4D4D4D4C4D4D4D504F4F5052514F5050504F4E4D4C4B4B4B4B4A4A4D4E525457595C5D5F606164656365656664656666656465656464656463636263616261615F5E5C5C5C5D5E5C5C5B5A595A5859575956575755555454545352515152504F4E4D4D4D4D4C26292420212320211F1E201E2021211F2023222220212222222322201F1F1D1E1C1C191C1B191A1C1E222125232527292D2B2C2B2E2D2D29222321242E3F494D4C4D4C4E4D4E4F4E4E504E4F4F4E4F4E4F4D4D4E4E4F4E4C4B4B4A4B4B4B4B4D4D4E504F4E4E504C4C4D4B4A4A4A484A4B4C4F5456585A5A5E5F6061626464646565646564646464646464636463636261616260605E5E5E5F5C5C5C5B5A5B5A58585957585756565554545453535251514F504E4E4E4E4E4C4B4C4C24232223262626252423232320212220232123222122242424242222211E1D1C1C1C1C1C1B1B1B1E1F2223232526262C2C2C2C30312D2B222324242A37444B4D4D4F4E4E4F4F4E4F4F504E4F504F4E515050504E4F4E4F4E4E4C4D4B4A4B4B4B4B4B4D4D4D4E4E4D4D4C4B4B4B4B4A4C4C4F525358595B5D61606264646563656665646665656565656566656564636462616261605F5F5C5E5E5D5D5A5B5A595A5A5A585957575656545454535353515251504E4E4F4D4D4C4C4C4B1F1D21272B302E2F302D2D2C29262722232422232324262525252522201E1D1C1C1D1B1A19191B1E212125232525292A2D2B2E2F2C2E2B2322232A3343484C4D4D4E4E4D4E4F4E504F4F50504F4E4F50504F4F4F4F4F4E4D4D4E4B4C4C4B48494848494949494A4B4B4A4B4A4A4A4A4B4D4F525558595B5D6060626264656564656465636464646464656363636263626260615F5F5F5E5D5D5E5D5B5B5B5C5959595857565756555656545353525251504F504E4E4E4D4C4C4C4B4B1B21222B3335383A3938393735322D2D292825252726282627242323211D1E1D1C1C1B1D1B1B1E202123262527272A292B2E2F2F302E2B262B2D3743494D4F504D504F50505150505050515251514F51515050505050514E504D4D4D4C4B4B4B4A4A4949484849484A4C4C4C4B4B4B4C505156575A5C5F6062616465666666666666656466656665646465666563656463636462616160605E5E5F5D5C5C5B5B5B5B595858585758575755565555545251505150504F4E4E4D4D4C4D21252E3537383B3E3D3E40403D3D38373534302C2B2D2C2A28272323201F1D1D1C1D1C1A1A1B1D1F2326262526282A2B2E2E2D2F2F2F2E30353D454A4D4D4F4E4F504F4F50505151525052515152505252525150515251504F4F504E4D4D4C4B4B49494846464648494A4C4B4C4C4D4F515557595C5E61606365666566676767666665666667656665646665656564636363626162626060605F5E5E5D5D5C5C5B5B5A595959585956575555545454535151514F504E4F4D4D4E4D4C2A3136393A3B3D3E3D42434444454543433F3E3B3B3736322C272724202220201D1D1E1E1B1E20212727282A2928292B2C2D2B2C31343A3D444A4D4C4E4D4F4F4F51504F51505150515051515251535151515150525151525150504E4E4F4E4D4B4B484848484647484A4C4B4B4C4E505355595A5D60616363656566656665666766656667666566656665646464646463636162616161605F5D5C5D5E5D5B5A5B5B5A5957595857575655565453555352515050504F4F4F4E4E4E4B33353739393B3E3E4042434544454847464647454442403E383327232221201F1C1C1E1B1B1C20242527272928292627282A252A323A4246494B4C4D4B4D4E504F4F50504F5150505051515152525151515150505051504E4F4F4E4E4D4D4D4B4A4B4A4847464647494A4A4A494C4E5053565A5D5D60626363646464656565666565666464656564656565636463646262616161605F5F5F5E5E5D5D5B5C5C5A5A595A565957575655555354535352525050504F4F4F4E4D4D4D4B4B34353737383C3F3E42444446474648494848484647474646433B312924201E1D1F1D201D1C1D2124282628282926262425272527323F474A4A4C4D4C4D4C4F4E4F4F4F504F515150505152505150505151515152514F505150504F4D4D4E4D4B494A4949474648484A4B4A4A4C4D4F5355585A5C60606364646464656566666565666565656565656565636263636262616260605F5E605F5E5E5C5C5C5B5C5958595A58565857575555545452535052514F51504E504D4D4C4C4B4B3234393B3A3E3F40454645474B50544E4C4B4A49474748494740362F27222321211E1E1D1A202026292B272827232323252222263243494C4B4D4D4D4E4D4F4E4E4E4F4F50504F5151525251515252515052505151524F4F4F504F4F4E4D4C4C4B4A4A4849494A4A4A4A4A4B4C4E5154585A5C5F6163636465656666666666656665666465666565656564656464636362616160605F5F605E5E5E5D5B5C5A5A5A585A5958585656535556545353525151504F4E4E4D4E4C4C4D4C4B393539393C403F444746494A57778A7B62514F4D4B49484848443F342F272623211F1F1F202327292A292827262524262525262A37454B4B4C4E4D4D4E4D4E4F4E50505150515051505153535151535051525252515151504F504F4E4E4D4C4C4C4A494949484B4A4B4C4B4B4C505355595A5F5F6263646565666666666666656666656565656665656465636463646262616060615F605E5E5D5C5C5A5B5A5A585A58575858565754565454535352525150504F4F4E4F4E4D4B4B4B353738393C3F444548494B4F73D0FCF6B267524D4D49484647474240372E2A232221211F2124282A2C2B2929262625282C2E323A41484B4A4B4B4C4B4D4D4D4E4F4E4E4E504F5050504F51514F4F514F4F504F5050514F4E4F4E4C4E4C4D4B4A4949484847474A4B494A494C4C5052555A5B5E5F6163636464646565646565656564636464636464636363636263616061605F5E5F605E5D5D5B5B5C5B5A595859585857575656545454535352515150504F4E4E4D4D4C4C4B4A4B4A3439393C3D4344464C4D4F5B99FBFFFFFB9C5A504E4B4A4847474744423D322A26242426282C2E34312F282A2E3133383B3F4445484B4A4C4B4C4C4D4D4E4E4F4E4F50514E51515051515251515050514E51515150504F4F504E4E4D4C4C4B4C4B4A4A49484B4B4B4B4A4B4C505155585A5C5E60636364646565656566656666666565656465646463636463646362616161605F5F5E5E5E5D5C5B5B5C5B5B59595758565656545454535452515151514F4F4F4E4E4D4C4C4B4B4A4A37373B3D3F43444B4E525662B3FFFFFFFFBA5F56514D4C494848474745444036302C2D30333A3E3F3D36333742434245454648494A4A4B4A4B4B4C4C4E4D4D4D4F4F4F504E4E4F5150505150505151524F50504F50504F4F4E4E4D4D4C4B4B4B484948484A494A4B48494A4C4F52555A5B5E5F61636364646565656565656465646464646463646362646362636162605E5E5E5D5E5E5E5C5C5A5A595A5858585858575756565553555352525250504F4F4F4E4D4E4C4B4C4B4B4B493838393B4144474E54555D6AC5FFFFFFFFBE655A55514F4A4B4A4948494845433F3B393C42474747464040464A4A4A4B4B494A4B4C4B4C4B4D4F4E4F4E4E4F504F4F514F515151525352515252535152525352515152515150504F4E4D4D4D4C4B4A4A4A4A4C4C4B4B4B4D4F5255585B5E6062636466666667676767676866666766666566656665666664646563635E5B5E5E61605E5F5E5D5C5D5B5A5A5A5A5A595859575857565654545452535151514F4E4F4F4E4E4C4C4C4B4B3A383B3E4042474E55575E6CCEFFFFFFFFB8675955504F4C49484946474746454543444546474848464648494A4949494A4A4A494B4C4B4C4C4C4D4E4E4D4E4F4E514F4F50525050505152505150515151515150504F4F4E4F4F4E4E4C4A4B4A4A4949484A4A4A4A4A4C4D4F5255585C5F6061646564646565666566656564656564646565656564646262636263605E5B5D5D60605F5F5B5B5C595B5A5A5A59585757575755565554545251515150504F4F504E4D4C4C4B4A4A4949393A3C40434649515759606FD4FFFFFFFFB5685C55534F4C4B4A4748474847474846474747474848484947484949494A4A4B4A4B4C4B4C4C4E4D4E4D4F5050504F5051505050515151505253525152515151515151504F504F4E4E4C4D4C4B4A4A4A49494B4C4B4A4A4C4E5053565B5D5F6263646565666567666665666565656665656565656464646564626263625F5E5E5F5E605E5E5E5D5B5B5B5A5A59585858595757565553545352525351514F504F4F4D4E4D4D4D4C4B4B4A3C3C3C4145474B53595C6373D9FFFFFFFFB16A5D5853514F4C4B4A4947474847474746474748474848484A49494A4B4A4C4B4B4B4B4D4C4E4D4E4E4F4F5050505151515051525252515253525252525252525051515052504F4F4F4E4D4D4B4A4A4B4A4B4C4C4B4A4C4D4E5254595C60606465656666676567666666676666676666666565666565656564646263646161605F5F5F5E5F5C5C5B5C5A5C595959585958575756575654545352515151504F504F4F4D4D4C4C4C4B4B4A393C404144484D555A5E6575E0FFFFFFFFAC695E5755514E4C4B4B49484948474647474848464848494949494A4B4B494B4C4B4D4C4C4E4D4F504F4F51515051515152535352515152525252535252535251525151525150514F4F4D4C4C4C4A4A494A4B4B4A4B4A4D4F5056575B5E5F616465666666666565666566666667666666666665666564646565646463616162615F5F5F5E5E5D5D5C5B5A5C5A5A5959595857585657555554525453515150504F4F4E4D4C4D4C4D4B4A4A393D3F4344474D555A5E6477E1FFFFFFFFA4695F5955524E4D4B4949464847474747464646474749484949494A494A4A4C4B4B4D4C4D4D4E4F4E4F504F51505051505151505151535153525352525251515251525050504E4F4F4E4C4C4A4A4A494A4A4B4C4B4A4B4E4F52555B5D6060626564666666656566656565666667666666666566666565646463626462626262605E5E5F5E5E5C5B5B5C5A5A5A595858575857565555535453535251515050504F4E4F4D4E4C4B4C494A4A3C3F3D4343494D555B606577E4FFFFFFFF9F685E5754514F4D4A4848474748484546464747454848484949494A494A4A4A4B4D4C4D4D4E4E4F50505051525352515150525252505252525254515352515251525050514F4E4E4E4E4B4C4B494B49494A4D4A494B4C4E5053575D5D5D606264646566656564636464646666656666646566656564646464626263626161605F605F5E5D5D5E5B5C5B5C5A595859595757575557535353525251504F504F4F4E4E4D4D4C4B4B4A4A4A493D3F4245464A4F555C606678E7FFFFFFFF9E6A5F5A54524F4C4B4B494848494848474747484748494949494B4D4B4B4C4C4C4E4E4E50504F5053525250535353535353515251525353525251535252525253505251504F504E4E4D4C4C4B4C4A4A4A4B4C4C4B4C4D4E53565C5B5A5C5F6365656767666566656465656567676767676766676565666565646463646362605F60605F5D5F5E5D5C5B5C5B5B5C5A59585957565655565353545253525150504F4D4F4E4E4C4C4B4A49493D414245454A50555C61667AE8FFFFFFFF99695E5957504E4D4C4949484748484748464848464748484A4A4A4B4B4C4C4C4E4D4F4E5151515253535453535454535251525352535252515353525351515151515151504F4F4F4D4D4D4B4B4A4A4B4A4C4C4B4B4D4F4F5458585451525B626566666664666566656564656767676766676666666565656464646363636262615E5E5E5C5C5D5D5C5A5A5A5A58595858565656565554535353525251504F50504F4E4D4E4C4C4B4A4A4A3B3E4146454A4F585E60667AE8FFFFFFFF976A605956524F4D4C4A484A4847484747484746474949494A494B4B4B4C4E4C4F505051515252525454555555555555545351525453535153535352515152525250515150504E4E4E4D4B4A4A49494B4B4C4A4B4A4E4F525859554E494B56616667666666666564666565666667686767676666666665656463646364626261605F5E5E5F5D5D5C5B5C5B5B5B5A5A58585757575557555453525151515150504E4F4D4E4C4B4D4C4C4A4A3B3C404344494D555B5E6579E8FFFFFFFD93685E5854524F4B484947474745464545444543444547484A48494A4B4B4B4B4E4E4E5052505353555554555454535451504E505153535152515050504F4F4F514E4F4F4E4E4C4D4B4C494947484A4A494B49484A4C4E5257564E464247545F656564646364646462636264656566656465656465636362606262615F61605E5E5D5C5D5C5C5B5C5A5B58595958565657565554545452525350514E504E4F4E4E4C4B4B4B4C4A4A4948493B3D4145444A4D555B606579E8FFFFFFFD91695F5853504D4C4848484746464747474745414443474748494A4B4B4C4D4E4D50525152535556575958585857565752505051525252535253515251514F50504F4F4F504F4E4D4C4A4A484949484A4B494A494C4D4F555B554A43434B556267666565646563646464646567666666666665656464646364636362616261605E5D5E5E5C5B5C5B5A5B59585A58585856565655545353515150514F4F4F4D4E4D4C4C4D4A4A4A4A4948483D3F424445494D565B606579E8FFFFFFFC8F675F5853514E4B49474647484746474646454242444647494A4A4B4C4C4D50505152535456575A5C5C5B5C5A5A5A57565251535253535452535151505050504F4F504E4E4D4D4C4B4A494948474A494A4A494C4D50535858534844484D596163646565646565646466666666666666666565656564636363636360626161605F5F5E5D5D5F5C5B5B5C59595958585758565455555452535251504F4F4F504D4D4C4D4C4B4B4C494849473A3D3F44454B4E545A5E6678E6FFFFFFFD8D675E5653504D4A47464645464647474747464445474749494A4B4C4D4D4E505053545458595B5F60616161605D5C57575655545354525252525251524F504F504F4E4F4F4E4C4C4A4C4A4A48494B4A4B4A4A4C4E505153544F48444850585C58586066666565666667666667676666656666656465656464646361616160605F5E5E5D5D5D5B5B5B5A5C595A5958565655555553535353525251514F4F4E4F4C4A4C4C4C4B494A4949493B3D404344494D555A5E6577E5FFFFFFFD8C675C58524F4D49474646484746464647464845474748494B4B4D4C4C4E4F52515355565B5D6163666A6C686561605D5B58565756545351525351515052514F504F4E4E4F4E4D4C4B4A4849484A4B4A4A4B4B4D4F4F4F504F4B4748484D52504A4A566366666666676767676767676766666665646564646563636261615F615F5D5D5D5C5C5C5A5A5B5A5B59575856555656565453535353515151514F4F4E4E4D4C4C4D4B4A4A4949483B3D424345484C55595D6475E4FFFFFFFC8C645B53504E4B49484747464746464646464747464749494B4B4B4D4E4F51535555565A5D616568779CAC977D6E65605D5B595755545753535151505050504F50504E4D4D4D4C4B4A4A4948494B4A4B4B4A4B4F504F49484A494847484B4B4A4343505C6567666666676767676666666665656664656463656263626260605F5E5E5E5D5E5C5E5B5B5A5A595859575856555554555453525250514F4F4F4E4C4E4C4D4C4C4B4B4A4949473A3D404243464A51565C6274E0FFFFFFFD8B645851504D4B4A47474545454346454546474647484A494A4A4C4D4D5051535455595B60646873BAF9FFFFE7A972625F5C5856565454545351505050504F4F4E4D4E4D4D4B4B4A4948494948494A49494B4C50504D4743464A49474947494845464A5662676663656565666666656565656464636263636263626161605F5E5F5D5D5C5C5A5B5A575A5A5857565655565453525453525151504F4E4F4E4E4C4D4D4B4C4A4A49484847483A3D40404145494F55576171DAFFFFFFFC8D6357524D4C49484745454545464647454548474849494A4B4B4C4D4F50525457575A5E65686D97F4FFFFFFFFED9467625E5C59565555545252504F524F4F4D4E4D4E4D4D4C4A49494848494A4A4A494A4C4E51524A42434B4F4C4D4D4C4E4A464649536067676665646766666665656665656363646563626364626160605F5D5D5C5C5C5B5A5B5A5A595857575555575354545353525251504F4F4E4D4E4E4D4C4B4B4B4B4949484847373C3D414044474D52545E6DD0FFFFFFFD8B5D534D4B4B4646454444434344444345444445474848494A4D4C4D4F50535356585D60656975C5FFFFFFFFFFFB9F67635E595755535351504F4F4F4E4D4E4C4D4C4C4B4A4849474845464747494848474B4E504F4740434F535355525049423D40465360666764656364646464636462626263626161606160605E5F5E5C5C5C5B595B5959595858575855555456535353515251504F504F4F4D4C4C4B4B4B4B4A4B494948474746454638393B404044474C51525969BDFFFFFFFC8859514D494847464444454544444543444545464648494A4B4C4E4F505254565A5C6165686F89EBFFFFFFFFFFF8926963605C59575554535152514F4F504E4D4E4C4B4B4949494747474749494949494A4D50534F453F46555B5E5D5950473832384654616768656463636465646464646362626262626060605F60605F5D5C5C5C5B5C5A5A5A5959585756555455545454535251535150504F4E4D4D4E4C4B4B4B4A494A4A4847484646383A3C3E4042464B4E51575F95FAFFFFF777534D4A48484746454546434343454543454746474A484A4B4C4F51525355585B5F64676D75A9FDFFFFFFFFFFEA7E6A66605E5A59555453515050504F4E4E4C4D4C4B4B4A4A484747474748494A4A494A4D53555045434A565C5F605C4E3E2E2932415563686763615F6465656565646464646363636262616161605E5E5E5D5C5B5B5C5A5A5A5958585656555555535454535251525151504F4E4E4D4E4D4B4C4C4B4B4A4B49484846463B3C3C3F3F40464A4E4E53556BC7FFFDC260514C4B49494747454445454646464747454748494A4B4C4D4E51525355575A5D63656C717FD0FFFFFFFFFFFFC8756B67635F5B5956555453525153514E504E4E4D4E4C4B4A49484849494A4A4B4A4A4F515558534B484E51555A5E5A4B3628252E42586669645F5C5C5D616566666666656465646463616061625F5F5F5F5E5D5D5D5D5B5C5B5A595A585658585756555454535354525151514F4F4F4E4D4D4C4C4C4B4B4B4A494848473A3A3C3C3F403F47494A4B4D5165949B684E4A48464747444543434244444646464447484748494A4C4C4E4F505455585C5F62686C748FECFFFFFFFFFFFBA0726966635D5A5756565353515050504F4D4D4C4C4A4B49484647474747494949494C4E54595B58504F4F4D4F555A55453526252E445967666059585557585E636465656362636262626261605F5F5E5E5D5C5D5B5B5B5C59595A58585856565555555453535252515250504F4F4E4D4D4D4D4D4C4B4B4A4A494947484637383A3D3B3E414147474749494B504F4C49474644454343444443434242434645464547474749494A4D4E4E515356585B5F63686E78ABFBFFFFFFFFFFEC856F6965615D5B575654525150504F4F4D4D4E4B4A4A4A484948474647494849494A4C525659605D5858514D4D57585346372627304A5D6665615C5C575251555D6164635F616262626160605F5E5F5D5D5E5C5C5B5C5959595958575758565656555453525252515051504F4E4E4D4D4D4C4C4B4C4A4A494A484847464636373C3C3A3E3E3E434343474446474445464344444241434443424142404645474646484749484A4C4D4E525155555A5E60666B7080CEFFFFFFFFFFFFC77A6E6865615E595656555454514F504E4D4E4C4B4A4A48494746474648494A494A4D5053595F625E605A524F51585B574938292A374E60676260606059524F51565D61615C5E6161626060615F605E5F5E5D5D5D5C5B5B58585A585757565655565554545353525251504E4E4E4F4E4E4D4C4C4B4A4B4A49494848484746353637393C3D3E3E3F3F40414143424042424141424043434141424140414446454546484848494B4D4D4F505355575A5D61666B748DE8FFFFFFFFFFFB9F736C6865615D5B5754535253504F4E4D4D4D4C4B4B4A494847454748494948494A4D51555D605E5A5B59545051585E594A362F2F40546364605E62615A514D4D53575D5F5D5E6260616060605E5E5D5D5C5C5C5C5A5B5B59585857585656575456535353525251515150504F4F4E4F4D4B4C4B4C494849494948474747473635383A3A3B3B3C3C3E3E3D3E3E3F3F3E403F414040424041404043434544444646464748494B4C4D504F5154565A5D6065696F79A2F9FFFFFFFFFFE884716B6765615C59565554515250504F4D4C4C4B4B4B494948464548474949494A4B4F52575D605A535657555350596260503D3842515F656663615E6058514F4C4F52595E5F616160615F5F5F5D5E5E5E5C5D5C5C5C5B595A5858575657565654545453535252515150504E4F504E4D4E4C4B4B4B4949484948484847474630323738363A383A3939393B3A3D3A3C3D3E3D3C3F3E3F3D403E4240414143454444454646484A4B4D4F4F535455585A5F656A6F7EBEFFFFFFFFFFFFC2766D6866625D5A595755514F4F4F4F4D4D4C4B4A494A474747454546474848484A4B4F545B5F5C534A4F5555504F596564554849535F67686766625F5B55504E4D4A4C565B5E605F605754585D5D5C5C5C5C5B5B5A5A575856565758555555545454535252525251514F4F4D4E4D4E4C4C4B494A4A484748474846464645452E30353A373938383A38393939383B3B3D3D3C3E3D3F3F3F3F403F414242434243454748484A4B4D4E4F515455575A5E63676C7388DDFFFFFFFFFFFB9D736D6966635E5A585756535252514E4F4F4D4C4C4B4B49484945464848494B4B4A4F53585F625C504951575750526168655D565B64696A6A6A6966605A5554514E4B4C555C61615C5245424E585E5D5E5E5E5C5C5D5A5A595A5958575757565755545454525353525350515050504E4F4C4C4B4A4A4A4949484848494647452F303234343736383937353737373A3939393C3E3C3C3D3D3D3C3D3D414142434443464548494B4B4C4F505353575A5F63666C7596F3FFFFFFFFFFE782706A6663605C5857555352504F4F4E4C4B4C4B49494847474745464747494848494F53585F60594D485058564F5663655E565762676969696968676058565555524E4F575D5D5648382424384C575B5C5A5C5A5B5958585856575556555555535455535352515250504E4E4D4C4D4E4D4B49474848484846484746454544442E2F30333836373637353737373938383A39373C3B3C3D3C3E3B3B4041424343434344464548494A4D4F505153565A5E63676C77B2FDFFFFFFFFFFC1766C6864605D5957535451504F4E4E4C4C4B4A49474746454545434545464948494C5255555B5C564947535B59585E62594F494F5D666868686768655F5856595C5B58585C594E412B1C1B1B253B4C565A595A5B5A5957565657555555545453535352515151514F4F4E4D4C4C4D4C4B4B4A49464748474545464646454544443030313133333333353435363435353638383839383C3C3C3D3F3D3E3F424445434645474748494D4E50515355575B5F656A6F7FD2FFFFFFFFFFFB9C726C67655F5D5A5755535251504E4D4E4D4A4A4A484A474746464545464949484B4F5256565A5B54494A58616565655B4D3F3B485865696A696968676159575A5D605F5C554736221A1A20211E263B4E56595B5A5A595957585655565555545353535253524F50504F4E4F4D4D4D4B4B4B4949484847464646464544454643452B302E3031333233363537363334363737373738373B3B3D3D3D3C3E3E404344434446464748494E4E4F515255585A5F6469708AE8FFFFFFFFFFE7806E6965625E5A5955535251504F4F4D4B4B4B494A4848464644444545474847494C50545555595651484E5C65676763533F33333F5162686868686766625C5656575A584D402B1B171F2428272321273E4F575859595957565655555654535452525152515051504E4E4E4C4B4B4B4B49484847464647454646454444434444422E2E2F2E2F3032323431363436363738373838363A383B3A3E3C403E3E4040424445464747494B4D4E4F5155555A5C61666A72A1F9FFFFFFFFFFC2756C6765605D595655535250504F4E4D4D4D494A4948474645464546474648494A4D5357595A59574F49525F656669624E36292F3F4E5D676969696868645D5755534D433421181B21292E2D2E2B251F29405159595A575757575555545554525153535351514F4F4E4E4D4B4B4B4B4B4A474746464645454643444545434243412C2F302F2E313132313332363634363837383838393839383B3A3C3E3F3F404444454647484A4C4B4F50525357595C5F656A74BBFFFFFFFFFFFA9C706A67615D5B5856525251504E4E4B4C4B4A4A484647444545454644454847484B5156585B5C5C574F4B54595A5E665C462F2A38444B57646869686868645B544E4636271B181F272B3230312F2D2A23202B43505758575656565555565453545352505050504F4F4D4B49494B4B4A4A49474646454544464545454443414143442E2E312E2F312F31323133343436373736383937383B3B3A3A3C3B3D3E4041434445454649494B4C4E4D515256585A5E656A7BD8FFFFFFFFFFEA806C67635F5C5756545152504F4F4D4C4C4B4949494746444644454447464747494D53585C5E5F5D57524F514F4E5661573F2D2C3B434653636767686767665E4F3D2C1E1A1D232C31333233322F302C271F202E44515658535555555354535352515151504F4F4D4D4B4C4B4A4A4A4A4A4846454444454243434543434442423F402E2D2D2D2F2F31313132343334343738373737373838393A3A393D3B3D3F41444545474849494A4C4D4F515355585C60666C89EDFFFFFFFFFFC9736966615C595654535250514F4E4D4C4D4B4A494847464543444546464749494D52555A5E616160595956514C49505A513B2F363F414454636969696869675842251A18212B313436343536322F2E2C2A24202031475255555555545454535252525352514F4F4D4F4C4A4B4A494949484846434645444242444340424040413E3E2C2C2C2E2E2E2D2F3030313532353538353838373A3737373A383C3B3D3E3F434244454647494A4B4C4E4F5255575A5F656C99F5FFFFFFFFFC9F6C66615D5A575451514F4E4F4C4C4C4B4A4948474747454543434243444746474C52585B5E62635F5D615D534A454B504A39333A3B3D4354636867676660534228191B272E32373433353535322F2C2C2D27241D20334850545453535452525151515050504E4C4C4C4A49484A48474A474643424242414040404041403E3E3E3F3E2C2E2C2A2B2E2D2B2F2F303231333334353636343636363535373B3C3D3C3D41414044464747494B4B4E4F4F5255595F646D9EF7FFFFFFFFEC7E68635E595653534F504E4E4B4A4A494848474745444642413F414144454646474E54585C6062625F61656053443D444A4637393C393B455965676761554631211B20283133363737363534342F2F2D2D2A2725211C20374950535353535151505150504E4F4C4C4D4B494948484949474645423F3E3F4040413F403E3E3D3C3B3A3A2D2E2D2E2F2F2E2D2D2F32303233343435363637363538383A383B3D3C3E404041434545454749494C4D4F525455585E656B8CE9FFFFFFFFC56F635F5A585453524F4D4D4C4B4B4948494848474645444243434142444645474C51565A5D6264646062665F4F3E394147423B3E39363B495C66655D4D37241B1D282D34363937393837323231302E2D2A292A2927201C22394A5152535251515150504F4E4D4D4E4B4A494947484647464441423E403F3E3F3F3E3D3D3E3D3E393C3A3D483A322F302F2B2E2F2E2E33303331363336363837363838363A393B3F3E42404144464548494A4D4D4E515355595B626976ACF4FFFFE88867605A585552504E4E4C4C4D4B4A4949494748454645444340414143444746484E55575D626466666264635A463432404845423B35353D4F5D5F55432E1D1B242A313839373737373635312F2F302E2D2B2B2A2A28231E1D273B4B515352515150504F4E4D4D4C4B4B494849494748474545423F3E3C3F3F3D3C3F3E3F3D3D3B393939668F7E4A34312F302F30312F2F303334353533363838393A37393A3C3A3E4141414445464648474B4C4E50505256595B60666C768FBABD8769605B585653514F4E4F4C4B4B4A4B4A484947464644424341434243454646474B5156565B6165676762636053403133424A4A443C373A4552544C38251D1F26303435383937373838373331312F3031302C2C2B2C2C2A251E1D27404D5151515251504F4F4E4E4D4C4A494949484A4846434440403F413D403C3F3B3E3D3C3C3B3A3C3994D1DF874136322F2E2E2E2F2F302F3132323132343434363A393A3C3A3F3F414241444346454749494B4E50505355585D626468696968635C585453514F4D4C4C4B4B4A4949484946464546444243403F414244454546484D5253515862656665615F594C3A313546504E443B353D47443D291E1D232D31353736373735363636343533302E2E2D2F2E2D2C2C2E2B29231D1B2B414C51514F504F4E4D4D4D4C4A4A4949484847474543413E3D3E3D3C3D3B3C393B393A3739393938A5ECFDCD5039302E2F2E2E2E2E2F2F2F30312E312F33373535383B3D3B3F3D4041434345444648484A4A4C4E4F515455595D5F61605E5A595654504F4E4D4D4B4A4A494848474748464744444342414140403F44434545494D53504F5762666666605E54493730394B5550433B353732291E191F282E34363735353434353334343432312D2E2E2E2D2C2E2A2A2B2B2927211A1B2F454C504E4E4E4F4C4C4D4B4A484947484745464542423E3D3B393935363B39393536363838353786F0FFF57A3F33312D2F2F302E2D302E2E2E2E2E2F2F36353738393D3C3B3D3E4143434545464648494C4C4D4D4F515254575A5958565652514F4E4D4C4B4A4A494A48474747464646444343413F3F3E3E4042434445464A4F52505359636665655F5C5447373641515D584737312B221B1C232B3134373537373534333334323633322F2F2F2E302E2E2B2B2E2B2C2A2B28201B1F30454D4D4E4D4C4C4B4A4A484947474746474641413E3B33302D2D2C2E313235323135343636365ED6FDFFB64C372F2F2E2F2E2F2D2D2E2F2D2E2F2C303334353639393C3E3E3F413F424443464648474A4A4B4D4D4F50515455555452514F4E4D4B49494948474747454645464645444443403F3D3F3D3D3E41424245484B4F5153565F62666565615B54493A364556615A422D221A1A1F262E32373738363736353433333232303231302F2F2E2E302D2C2C2E2B2C2C2C2B271D1A1E35464D4C4D4B4B4A4B4A4947474847464543413F37302B2B2C2C2928282C312F2E303435333347A7FAFFEC6839322D2D302D2D2C2E30302D302F30323333363335383C3C3C3F404143424445454949484A4A4B4C4D4E505051514F4F4F4F4C4B4A49484747474647464445454544434240403F3F3C3E403E414344474B4E4E5057595E636565636059574F45404857594C3220191E262B30323636363735342F31303330302F312F312F2E2F302F2E2F2B2E2F2D2B2C2C2D2A241F1B2437464B4A4A4A4A484948484746454545443E34302A2E303533312C24262A2F3030333433373C72EBFFFEA74535312D2F2C302D30322F2F313230333432343538393C3D3C414040424544474848494A4A4B4C4D4E4D4D4D4E4E4D4D4B4B4A4A4A48484748474646464545444544434341403E3D3E3D4140434345484B4D4F535A5D5F62666564615C58564D46494A45311F1F2028303134363637373534313130303331332F313232313233312F3130302E2E30322E2E302E2A251E1C273A484A4A4B494A48484847484645443E342E2D343837363435312C25252D2F3032333432314FBFFBFFDD5C342C2D2C2B292B2C2E2D2D312E2F30313033323539383A3D3D3D41404243434646474848484749494A4B4B484A484848464746474546454344444343414342434141403E3F3C3B3B3C3D403F4345484B4E4F555A5B5B61636362605A59544A3F352F241D1E242B3234353334343432312E2F2F2F2D2C2D2C2F312F2E3031312C2F2F2F2E2F3030302D2F2F302D2B201A1D273B4447494747464745454646443E352D3032393835333435322E26232C2C2C2E3032302F3B83F0FFF589392F2D2A2C2B2E2D2C2D2D2E302F2F2F3131303437363A3B3C3F3E404343434445474747474848494A4B48484748464745444544444543434341414140403F3F3F3F3C3B3B3B3A383D3C414041454A4D4F525A5C5C5C606362615F5A554F402C201C1D23282D2F363533322F31302D2D2E3031302C2B2B2D2E2E2D2E2F2E2D2E2D2D2F2D2E2E2F2F30302F30302F291F171A2A3B454747464645444545433C342C2E3739393434343534322E2622262C2C2D2E2D2E2B3254C5EAE592392C2C2C2B2D2D2E2E2C2E2F3031303031333336393A383A3C3E3F40424342444646474747474849474A4846484746454343454544444241434341404041413C3F3F3D3C3A3B3B3A3D3E404045484C5153575E625E5C5F6162605F554C3F2A1F1D20272C33333637353330302E2E31323232322F2F2E2F2E31312F3031332F313030323131322F3232353135333330281F181D313F46464646464645463E352F32393B3B363637353734322F2721292E2B2C3133302D2F396DB4AE6C312B2929292C2B2D2C2E2E2D3130303232333434363638393C3C403F3E424345464645474646484648484746464446444442424440414141403F3D3E3F3B3D3D3C3C3B3B3B3B393C3D3E4242474A4E52565C62635D5C60635F5F554834261F21262A30323435393836342E2C2E2D333331323231302D31312E31302F3031312F32303130313232333233343235353430241E18202F3E45454442434640362F323A3E3E3A373635363332302F2924252C2D2B2C2E2D2D2F303950553B2A2929292D2B2C2F2C2C2D2F2E2F31313232343333333739373C3D3D41414243434545454545464446454444454543424040404140413E403E3D3F3C3A3B3B3B3B39393836383A3A3D3F4042464B5052565F63625D5A5D615A4F432F211E23282C313635373637363332312E2F313333303131302F2E3030302F2F312E303130302F313233343132363535383539393730211A1821323F424443443F352E323A3F3B383535363634313131312721262C2C2C2A2D2E404846342E2E29292A242A29282C2E2A2D2F2C302F2F31323434343534343639373B3B3F3E3E41414244454444444543474545444342434041413E3F3E3D3E3E3D3B3C3C373838383A3836363637393E414044464C5152585E64615B5957544B39282022262C31333437373736363535302F2F31303031312F302E302F2D2F2F302E30312F3030303232323434343837373737393A393A372C20171A26363F42413F362D313A3D3B38373234373430323133312721262D2E2D2C2C2D5A6462472C2D28282828282A2A2B2B2C2D2E302F302F323234333432363535373836393C3D3D4041414344454344464445444544434240423F3F3F3F3F3F3C3E3B3B3B3838373B393836353638373B3E404346484B4F54585E626058504A412D232126282F313435343536353435342F302E2F322F31302F2E302F302D2E2E302E2F2E2F2F323232333233343336373837393A3C3C3D3C3A31281B161A2736403F352E2E383B3D3A383735343633333233332E251F282F302D2D2A2C666C6851372E2A2827282B27292A2C2D302F312F3332333236333432353436383838383A3A3C3C3D3E41404443434544454343424342413F3D3D3F3F3E3D3D3B3D3B3C373B383B373A3735353A383B3E404247484B50565A61625B4F42332723272A2F31343535373734353434343431312F2F2F2F2E30302E2D302F2D2F2F302F312F3032333433343536373638383A3A3C3C3E403E3D3D3933271A161D293836312E383C3C39383735363733323433332F2D24232C302F2F2B2C296C73726B5A352A292827282827282A2C2C2F32383C3B343535363535363336373639383A393A3A383A3A3B404243434443414042423F403F3E413E3E3D3E393C393938393838383936353737373C3C40414248494C515A5E5C594E3D2D25262A2F313335353535353435333331333330302F2D2F2F2E2F2D3130312E2E2D2E2E2F303031313031343335373838383C3C3D3F3E3E3E3E3C3F433F372218161E292D2E363C3D3B38363535353330323133342F2724252B2E312E2E2B2859737B7D6F4A282828262726272A292B2C2E3E6882734B3D38343532343434343434353835363938383B383D3E4040434040413E3F3F3F3E3C3B3D3D3C3B3939383B3737383837393535343335383C3E4045484A4C53595850473628252A2E32323436383534343434323232312F312E2E2C2E2D2C2D2D2E2E2E2D2D2E2C2F2D2F2F30303032343134353637383A3D3C3D403C3B3D4042464545402F1D16151A212D3838393736323134332F31313332302B2521262A2C302D2C2A2C4778827C6B4A2C2B2B282628292928292B304EA8EBF5A14A3B3634333432343534343535373736383A38393B3C3F3E3F3F413F3F3E3F3D3E3B3E3B3C3A3C3A3A38373536383738373636343536383B3C3F494D4E515553493D3127282E3336383636353735363434342F31312F31322F2F2B2C2C2C302D2D2C2F2E2F2D2D2C2D30302F32313535363637383A3C3F3E3F403D3D3F4344474949494740281A13141E2E3739373735303134332F313133322D262325282B2D2C2D2D2A2E2D677A6F4E3A2A2727282927282828292D3052C5FFFFF0653F3A35303131323231333033333435343835363A383A3B3E3D3D3C3F3D3C3A3C3A3B3C393B3A38393C36353735363735333432303838393D414B5151545449382A2A2E323537393835373534333332323030312F302E2E2D2F2C2A2C2D2D2D2C2D2D2E2D2E2C2D2D31303231313336353639393A3C3D3C3D3D3F414245484A4A4A4A4A463A2317151A272F33323331323232312E2F3230302824222628292B2B2C2B2C2B23355E5A432B272826292A28282A262B2F3249AEFFFFFF9C473B35333432323332303033343433373539373A373738393A3A3A3A3B3B3D3A3C3E3B3A393A3C3A39363537363733353336353436393B41474E53555752422F2932373838393C38373435323432333030303030312E2D2F2D2D2D2D2D2F2C2D2E2F2E2E302E302E3030323135353739383B3C3E3E3F3F3F404246484A4A4B494A494948432E1F18151C272F3133313030302E322F31332F2724262A282D2D2D2B2B2B2A");
    QImage qIm = QImage((uchar *)testArray.data(), 188, 120, QImage::Format_Indexed8);
    QImage qImg = QImage::fromData(testArray);
    label->setPixmap(QPixmap::fromImage(qIm));*/



    //一些测试任务 先耦合在一起 最后松耦合..
    //connect(dataCenterPtr->imgProcCore,&ImgProcCore::updateSurface,imgShow,&ImgShowComponent::updateImgWidgetPtr);

    /*
    //QWindow实验
    QWindow* window2 = new QWindow();
    window2->show();
    window2->setTitle("ceshiyixia");
    window2->resize(100,this->height());
    window2->setX(this->x() - 100);
    window2->setY(this->y());
    */



    /////////////////////////////////////////////数学分析////////////////////////////////////////////////
//    QPen seriesPen;
//    seriesPen.setWidth(2);
//    seriesPen.setColor(QColor("Black"));
//    QChart* chartGrayScale = new QChart();
//    chartGrayScale->setTheme(QChart::ChartThemeLight);
//    chartGrayScale->legend()->hide();//隐藏标题
//    chartGrayScale->layout()->setContentsMargins(0,0,0,0);//外边界
//    chartGrayScale->setMargins(QMargins(0, 0, 0, 0));//内边界
//    QChartView* chartView = new QChartView(chartGrayScale);
//    //chartView->setMaximumSize(1000,400)

//    QSplineSeries* splineSeries = new QSplineSeries();
//    splineSeries->setUseOpenGL();
//    splineSeries->setPen(seriesPen);


//    //QBarSeries *series = new QBarSeries();
//    //QBarSet *set0 = new QBarSet("Jane");
//    for(int i = 0;i < 256;i++)
//    {
//        splineSeries->append(i,i);
//    }
//    //*set0 << 1 << 2 << 3 << 4 << 5 << 6;// 名字为 Jane 竖条的 6个值 （分别代表6个月的值）
//    //splineSeries->append(set0);

//    //布局高度
//    //chartView->setMaximumHeight(150);


//    //chartView->setMaximumWidth(imgShowList[0]->width());
//    chartView->setFrameStyle(0);

//    //carPanelLayoutList[0]->addWidget(chartView);
//    chartGrayScale->addSeries(splineSeries);
//    splineSeries->setName("灰度");
//    chartGrayScale->createDefaultAxes();
//    chartGrayScale->setTitle("Intensity Histogram");
//    chartGrayScale->setTitleFont(QFont("Microsoft YaHei",24));
//    chartGrayScale->axisX()->setRange(0,256);
//    //chartGrayScale->axisY()->hide();
//    chartGrayScale->axisY()->setRange(0,1000);

//    connect(dataCenterPtr->imgProcCore->imgProc,&ImgProc::UpdateGrayScaleChart,[=](int* array){
//        QTime time;
//        time.start();
//        int max = 0;
//        QVector<QPointF> v(256);

//        for(int i = 0;i < 256;i++)
//        {
//            if(*(array + i) > max)
//                max = *(array + i);
//            v.append( QPointF(i,*(array + i)) );

//            //splineSeries->replace(i,i,*(array+i));
//            //splineSeries->replace(i, *(array+i) );
//        }
//        //以Vector为形式..效率提高N倍.这是一次性画图..replace一次绘图一次的吧..
//        splineSeries->replace(v);
//        chartGrayScale->axisY()->setMax(max+1);
//        qDebug()<<time.elapsed()/1000.0<<"s";
//    });


//    //QTabWidget* carTab = new QTabWidget(this);


//    QGridLayout* gridLayout = new QGridLayout();
//    gridLayout->addWidget(chartView,0,0);

//    //carTab->addTab(chartView,"Math Analysis");



//    //gridLayout->addWidget(chartView2,1,1);

//    //carTab->addTab(chartView2,"Math Analysis2");

//    //carPanelLayoutList[0]->addWidget(carTab);

//    carPanelLayoutList[0]->addLayout(gridLayout);

//    QHBoxLayout* ControlLayout = new QHBoxLayout;

//    QPushButton* LunwenBtn = new QPushButton("Copy",this);
//    ControlLayout->addWidget(LunwenBtn);
//    carPanelLayoutList[0]->addLayout(ControlLayout);
//    LunwenBtn->setCheckable(true);
//    connect(LunwenBtn,&QPushButton::pressed,[=](){
//        qDebug() << "拷贝论文图像";

//        //QPixmap* pix = new QPixmap(*pixmap);
//        //pix->scaled(QSize(IMG_COL*10,IMG_ROW*10), Qt::KeepAspectRatio);

//        QPixmap pix = chartView->grab();

//        QClipboard *clip=QApplication::clipboard();
//        //clip->setImage(image.scaled(image.width()*5,image.height()*5, Qt::KeepAspectRatio));
//        clip->setPixmap(pix.scaled(pix.width(),pix.height(), Qt::KeepAspectRatio));
//    });

//    QLineEdit* paramMin = new QLineEdit("0",this);
//    QLineEdit* paramMax = new QLineEdit("255",this);
//    QCheckBox* paramShowCheckBox = new QCheckBox("Gray",this);
//    QLabel* sectionLimitText = new QLabel("SectionLimit",this);
//    QLineEdit* sectionLimit = new QLineEdit("32",this);
//    QSpinBox* sectionRowLimit = new QSpinBox(this);
//    sectionRowLimit->setRange(0,IMG_ROW - 2);
//    sectionRowLimit->setValue(32);

//    QPushButton* changeParamBtn = new QPushButton("Update",this);
//    ControlLayout->addWidget(paramShowCheckBox);

//    ControlLayout->addWidget(paramMin);
//    ControlLayout->addWidget(paramMax);

//    ControlLayout->addWidget(sectionLimitText);
//    ControlLayout->addWidget(sectionLimit);

//    ControlLayout->addWidget(changeParamBtn);

//    ControlLayout->addWidget(sectionRowLimit);


//    connect(sectionLimit,&QLineEdit::editingFinished,[=](){
//        qDebug() << "值发生改变";
//    });

//    connect(sectionRowLimit,QOverload<int>::of(&QSpinBox::valueChanged),[=](int section){
//        qDebug() << "更新section值" << section;
//        //dataCenterPtr->imgProcCore->imgProc->Process_OSTU_Section(section);
//        if(section > IMG_ROW - 2)
//            return;
//        dataCenterPtr->imgProcCore->imgProc->currentSection = section;
//        dataCenterPtr->imgProcCore2->imgProc->currentSection = section;

//        //dataCenterPtr->imgProcCore->imgProc->doProc();
//        dataCenterPtr->ProcLast();

//    });

    ////////////////////////////////////////////单个车图像下的数学分析界面/////////////////////////////////////////////
    //数学分析就是多图表

    QGridLayout* gridLayout = new QGridLayout();

    QList<QVBoxLayout*> analysisLayoutList;
    QVBoxLayout* analysisLayoutItem;

    analysisLayoutList.append(new QVBoxLayout () );
    analysisLayoutItem = analysisLayoutList.last();

    //新建一个图表

    {
        QPen seriesPen;
        seriesPen.setWidth(2);
        seriesPen.setColor(QColor("Black"));
        QChart* chartGrayScale = new QChart();
        chartGrayScale->setTheme(QChart::ChartThemeLight);
        chartGrayScale->legend()->hide();//隐藏标题
        chartGrayScale->layout()->setContentsMargins(0,0,0,0);//外边界
        chartGrayScale->setMargins(QMargins(0, 0, 0, 0));//内边界
        QChartView* chartView = new QChartView(chartGrayScale);
        //chartView->setMaximumSize(1000,400)

        QSplineSeries* splineSeries = new QSplineSeries();
        splineSeries->setUseOpenGL();
        splineSeries->setPen(seriesPen);

        for(int i = 0;i < 256;i++)
        {
            splineSeries->append(i,i);
        }

        chartView->setFrameStyle(0);

        chartGrayScale->addSeries(splineSeries);
        splineSeries->setName("灰度");
        chartGrayScale->createDefaultAxes();
        chartGrayScale->setTitle("Intensity Histogram");
        chartGrayScale->setTitleFont(QFont("Microsoft YaHei",24));
        chartGrayScale->axisX()->setRange(0,256);
        chartGrayScale->axisY()->setRange(0,1000);
        connect(dataCenterPtr->imgProcCore->imgProc,&ImgProc::UpdateGrayScaleChart,[=](int* array){
            qDebug() << "=============================" << "hello" << "============================";

        });

        connect(dataCenterPtr->imgProcCore->imgProc,&ImgProc::UpdateXYChart,[=](int id,int* array){
            if(id != 0)
                return;
            QTime time;
            time.start();
            int max = 0;
            QVector<QPointF> v(256);

            for(int i = 0;i < 256;i++)
            {
                if(*(array + i) > max)
                    max = *(array + i);
                v.append( QPointF(i,*(array + i)) );

                //splineSeries->replace(i,i,*(array+i));
                //splineSeries->replace(i, *(array+i) );
            }
            //以Vector为形式..效率提高N倍.这是一次性画图..replace一次绘图一次的吧..
            splineSeries->replace(v);
            chartGrayScale->axisY()->setMax(max+1);
            qDebug()<<time.elapsed()/1000.0<<"s";
        });


        //图表下属控制
        QHBoxLayout* ControlLayout = new QHBoxLayout;

        QPushButton* LunwenBtn = new QPushButton("Copy",this);
        ControlLayout->addWidget(LunwenBtn);

        LunwenBtn->setCheckable(true);
        connect(LunwenBtn,&QPushButton::pressed,[=](){
            qDebug() << "拷贝论文图像";

            //QPixmap* pix = new QPixmap(*pixmap);
            //pix->scaled(QSize(IMG_COL*10,IMG_ROW*10), Qt::KeepAspectRatio);

            QPixmap pix = chartView->grab();

            QClipboard *clip=QApplication::clipboard();
            //clip->setImage(image.scaled(image.width()*5,image.height()*5, Qt::KeepAspectRatio));
            clip->setPixmap(pix.scaled(pix.width(),pix.height(), Qt::KeepAspectRatio));
        });

        QLineEdit* paramMin = new QLineEdit("0",this);
        QLineEdit* paramMax = new QLineEdit("255",this);
        QCheckBox* paramShowCheckBox = new QCheckBox("Gray",this);
        QLabel* sectionLimitText = new QLabel("SectionLimit",this);
        QLineEdit* sectionLimit = new QLineEdit("32",this);
        QSpinBox* sectionRowLimit = new QSpinBox(this);
        sectionRowLimit->setRange(0,IMG_ROW - 2);
        sectionRowLimit->setValue(32);

        QPushButton* changeParamBtn = new QPushButton("Update",this);
        ControlLayout->addWidget(paramShowCheckBox);

        ControlLayout->addWidget(paramMin);
        ControlLayout->addWidget(paramMax);

        ControlLayout->addWidget(sectionLimitText);
        ControlLayout->addWidget(sectionLimit);

        ControlLayout->addWidget(changeParamBtn);

        ControlLayout->addWidget(sectionRowLimit);


        connect(sectionLimit,&QLineEdit::editingFinished,[=](){
            qDebug() << "值发生改变";
        });

        connect(sectionRowLimit,QOverload<int>::of(&QSpinBox::valueChanged),[=](int section){
            qDebug() << "更新section值" << section;
            //dataCenterPtr->imgProcCore->imgProc->Process_OSTU_Section(section);
            if(section > IMG_ROW - 2)
                return;
            dataCenterPtr->imgProcCore->imgProc->currentSection = section;
            dataCenterPtr->imgProcCore2->imgProc->currentSection = section;

            //dataCenterPtr->imgProcCore->imgProc->doProc();
            dataCenterPtr->ProcLast();

        });
        chartView->setMaximumHeight(240);

        analysisLayoutItem->addWidget(chartView);
        analysisLayoutItem->addLayout(ControlLayout);
    }




    analysisLayoutList.append(new QVBoxLayout () );
    analysisLayoutItem = analysisLayoutList.last();

    //图表二

    {
        QPen seriesPen;
        seriesPen.setWidth(2);
        seriesPen.setColor(QColor("Black"));
        QChart* chartGrayScale = new QChart();
        chartGrayScale->setTheme(QChart::ChartThemeLight);
        chartGrayScale->legend()->hide();//隐藏标题
        chartGrayScale->layout()->setContentsMargins(0,0,0,0);//外边界
        chartGrayScale->setMargins(QMargins(0, 0, 0, 0));//内边界
        QChartView* chartView = new QChartView(chartGrayScale);
        //chartView->setMaximumSize(1000,400)

        QSplineSeries* splineSeries = new QSplineSeries();
        splineSeries->setUseOpenGL();
        splineSeries->setPen(seriesPen);

        for(int i = 0;i < 256;i++)
        {
            splineSeries->append(i,i);
        }

        chartView->setFrameStyle(0);

        chartGrayScale->addSeries(splineSeries);
        splineSeries->setName("灰度");
        chartGrayScale->createDefaultAxes();
        chartGrayScale->setTitle("Intensity Histogram");
        chartGrayScale->setTitleFont(QFont("Microsoft YaHei",24));
        chartGrayScale->axisX()->setRange(0,256);
        chartGrayScale->axisY()->setRange(0,1000);

        //数据更新
        connect(dataCenterPtr->imgProcCore->imgProc,&ImgProc::UpdateXYChart,[=](int id,int* array){
            if(id != 1 || array == nullptr)
                return;
            QTime time;
            time.start();
            int max = 0;
            QVector<QPointF> v(256);

            for(int i = 0;i < 256;i++)
            {
                if(*(array + i) > max)
                    max = *(array + i);
                v.append( QPointF(i,*(array + i)) );
                qDebug() << *(array + i);

                //splineSeries->replace(i,i,*(array+i));
                //splineSeries->replace(i, *(array+i) );
            }
            //以Vector为形式..效率提高N倍.这是一次性画图..replace一次绘图一次的吧..
            splineSeries->replace(v);
            chartGrayScale->axisY()->setMax(max+1);
            qDebug()<<time.elapsed()/1000.0<<"s";
        });


        //图表下属控制
        QHBoxLayout* ControlLayout = new QHBoxLayout;

        QPushButton* LunwenBtn = new QPushButton("Copy",this);
        ControlLayout->addWidget(LunwenBtn);

        LunwenBtn->setCheckable(true);
        connect(LunwenBtn,&QPushButton::pressed,[=](){
            qDebug() << "拷贝论文图像";

            //QPixmap* pix = new QPixmap(*pixmap);
            //pix->scaled(QSize(IMG_COL*10,IMG_ROW*10), Qt::KeepAspectRatio);

            QPixmap pix = chartView->grab();

            QClipboard *clip=QApplication::clipboard();
            //clip->setImage(image.scaled(image.width()*5,image.height()*5, Qt::KeepAspectRatio));
            clip->setPixmap(pix.scaled(pix.width(),pix.height(), Qt::KeepAspectRatio));
        });

        QLineEdit* paramMin = new QLineEdit("0",this);
        QLineEdit* paramMax = new QLineEdit("255",this);
        QCheckBox* paramShowCheckBox = new QCheckBox("Gray",this);
        QLabel* sectionLimitText = new QLabel("SectionLimit",this);
        QLineEdit* sectionLimit = new QLineEdit("32",this);
        QSpinBox* sectionRowLimit = new QSpinBox(this);
        sectionRowLimit->setRange(0,IMG_ROW - 2);
        sectionRowLimit->setValue(32);

        QPushButton* changeParamBtn = new QPushButton("Update",this);
        ControlLayout->addWidget(paramShowCheckBox);

        ControlLayout->addWidget(paramMin);
        ControlLayout->addWidget(paramMax);

        ControlLayout->addWidget(sectionLimitText);
        ControlLayout->addWidget(sectionLimit);

        ControlLayout->addWidget(changeParamBtn);

        ControlLayout->addWidget(sectionRowLimit);


        connect(sectionLimit,&QLineEdit::editingFinished,[=](){
            qDebug() << "值发生改变";
        });

        connect(sectionRowLimit,QOverload<int>::of(&QSpinBox::valueChanged),[=](int section){
            qDebug() << "更新section值" << section;
            //dataCenterPtr->imgProcCore->imgProc->Process_OSTU_Section(section);
            if(section > IMG_ROW - 2)
                return;
            dataCenterPtr->imgProcCore->imgProc->currentSection = section;
            dataCenterPtr->imgProcCore2->imgProc->currentSection = section;

            //dataCenterPtr->imgProcCore->imgProc->doProc();
            dataCenterPtr->ProcLast();

        });

        chartView->setMaximumHeight(240);
        analysisLayoutItem->addWidget(chartView);
        analysisLayoutItem->addLayout(ControlLayout);
    }

    for(int i = 0;i < analysisLayoutList.size();i++)
    {
        gridLayout->addLayout(analysisLayoutList[i],i / 2, (i + 1)/2);
    }

    //应用
    carPanelLayoutList[0]->addLayout(gridLayout);



    connect(dataCenterPtr->imgProcCore->imgProc,&ImgProc::UpdateXYChart,[=](int id,int* array){
        qDebug() << "=============================" << id << "============================";
    });



    ////////////////////////////////////////////PID整定/////////////////////////////////////////////

    //ParamLine* param = new ParamLine(this);
    //carPanelLayoutList[0]->addWidget(param);




    //carPanelLayoutList[0]->addSpacerItem(new QSpacerItem(0, 0, QSizePolicy::Expanding, QSizePolicy::Expanding));
    //carPanelLayoutList[1]->addSpacerItem(new QSpacerItem(0, 0, QSizePolicy::Expanding, QSizePolicy::Expanding));

}

void MainWindow::AddMsg(uint mtype,QString* msg)
{
    QString str = QString("[%1] ").arg(mtype).append(*msg);
    //qDebug()<<mtype;
    textBox->clear();
    textBox->append(str);
}


MainWindow::~MainWindow()
{
    //imgProcThread.exit(0);

    dataCenterThread.quit();
    dataCenterThread.wait();

    delete ui;
}


void MainWindow::myTest(bool)
{

    qDebug()<<"okokokok";

}



void MainWindow::CMDPackageHandler(QByteArray CMDByteArray)
{
}
